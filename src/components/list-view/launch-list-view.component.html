<div class="list-view-container">
    <mat-card>
        <table mat-table [dataSource]="dataSource" matSort>
            <ng-container *ngFor="let column of displayColumns" [matColumnDef]="column.key">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ column.header }} </th>
                <td mat-cell *matCellDef="let row"> {{ row[column.key] }} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnKeys"></tr>

            <ng-container *matRowDef="let row; columns: displayedColumnKeys;">
                <!-- Main Row -->
                <tr mat-row (click)="handleRowExpand(row)">
                    <td *ngFor="let column of displayedColumnKeys">
                        {{ row[column] }}
                    </td>
                </tr>
                <tr *ngIf="expandedElement === row" class="expanded-row">
                    <td [attr.colspan]="displayedColumnKeys.length">
                        <div class="expanded-content">
                            <ul>
                                <li *ngIf="row.mediaLinks?.presskit">
                                    <a [href]="row.mediaLinks.presskit" target="_blank">Presskit</a>
                                </li>
                                <li *ngIf="row.mediaLinks?.webcast">
                                    <a [href]="row.mediaLinks.webcast" target="_blank">Webcast</a>
                                </li>
                                <li *ngIf="row.mediaLinks?.article">
                                    <a [href]="row.mediaLinks.article" target="_blank">Article</a>
                                </li>
                                <li *ngIf="row.mediaLinks?.wikipedia">
                                    <a [href]="row.mediaLinks.wikipedia" target="_blank">Wikipedia</a>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </ng-container>

        </table>

        <mat-paginator [length]="totalLaunches" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
    </mat-card>


</div>